// test accessing LIF file. 
// wrote for checking the loci_tools.jar
// open an arbiturary plane and closes. 
// 20101122 Kota Miura

	srcfile = getArgument();		//cui
	//srcfile = File.openDialog("Select a LIF File"); //gui
	id = srcfile;  
	name = File.getName(id); 
	seriesNum = 1;
	ch = 0;
	print(id);
	run("Bio-Formats Macro Extensions");
	//Ext.fileGroupOption(id, fileGroupOption);
	//print(fileGroupOption);
	//group = false;
	//Ext.setGroupFiles(group);
	Ext.setId(id);
	Ext.setSeries(seriesNum);
	Ext.getSeriesName(seriesName); print(seriesName);
	Ext.getSizeZ(sizeZ);
	Ext.getSizeC(sizeC);
	Ext.getSizeT(sizeT);
	Ext.getDimensionOrder(dimOrder); 	print(dimOrder);
	Ext.getImageCount(imageCount);
	print("ImageCount:"+imageCount);
	calculatedCount = sizeZ*sizeC*sizeT;
	print("...calculated"+calculatedCount);
	sizeT = imageCount/sizeC/sizeZ;
	print("C:"+sizeC+" Z:"+sizeZ+" T:"+sizeT);
	newname = name+"_"+seriesNum+"_ch"+ch+".tif";

	//Ext.isGroupFiles(group);
	//print("group plociy:" + group);

	
	i = 3;
	j = 0;
	currentPlane = j*sizeZ*sizeC + i*sizeC;
	if (currentPlane < imageCount) {
		Ext.openImage("t"+j+"_z"+i, currentPlane+ch);
		print("t"+j+"_z"+i + "---"+ currentPlane+ch);
		close();
	} else print("assigned plane number exceeds the last plane");
